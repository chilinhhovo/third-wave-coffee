<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Brewing Inequality</title>
  <style>
    * {margin: 0; padding: 0; box-sizing: border-box;}
    html, body {scroll-behavior: smooth; background: #fff; color: #333; font-family: 'Helvetica Neue', Arial, sans-serif; line-height: 1.6;}
    body {padding: 2rem; max-width: 750px; margin: auto;}
    h1 {font-size: 2.5rem; margin-bottom: 1rem;}
    h2 {font-size: 1.75rem; margin-top: 2.5rem; margin-bottom: 1rem;}
    p {margin-bottom: 1rem; font-size: 1rem;}
    img {width: 100%; height: auto; margin: 1.5rem 0; border: 1px solid #ddd; border-radius: 4px;}
    .lede {font-size: 1.25rem; margin-bottom: 2rem; color: #555;}
    .methodology {background: #fafafa; border-left: 4px solid #ccc; padding: 1rem 1.5rem; font-size: 0.9rem; color: #444; margin-top: 3rem;}
  </style>
</head>
<body>

  <h1>Brewing Inequality</h1>
  <p class="lede">How artisanal coffee bars follow the contours of rising rents, home values and widening income gaps.</p>

  <h2>Map the Market</h2>
  <p>Third-wave coffee shops don’t scatter evenly. They cluster—in neighborhoods with rising real estate values and a particular kind of gentrifier clientele. From Austin to Miami, we find the same pattern: cafés appear in high-rent tracts surrounded by lower-rent blocks without them.</p>
  <img src="nyc_actual_count_map.svg" alt="NYC café counts by tract">

  <h2>The Income Paradox</h2>
  <p>At first glance, you’d expect wealthier neighborhoods to attract high-end coffee. But our regression results flip that expectation. Once you control for <em>rent</em> and <em>home value</em>, higher <strong>median income</strong> actually predicts <em>fewer</em> cafés.</p>
  <img src="chart1_income_by_coffee.svg" alt="Income vs café presence coefficients">

  <h2>Five Signals of Gentrification</h2>
  <p>We ran logistic regressions predicting the presence of a third-wave café in every census tract across New York, Texas, and Florida. The standout predictors? <strong>Rent</strong>, <strong>home value</strong>, and <strong>gini index</strong> (inequality). Income, again, shows no positive effect once the real estate variables are included.</p>
  <ul>
    <li><strong>New York:</strong> Gini index: 8.05 (p &lt; .01), Rent: 3.41, Income: -0.36</li>
    <li><strong>Texas:</strong> Home value: 1.60 (p &lt; .01), Rent: 1.75, Income: -1.20 (p = 0.04)</li>
    <li><strong>Florida:</strong> Home value: 2.08, Rent: 1.77, Income: -1.91 (p = 0.02)</li>
  </ul>
  <img src="chart2_race_by_city.svg" alt="Regression bar chart for NY, TX, FL">

  <h2>Who Gets the Coffee?</h2>
  <p>Using kernel density estimates, we visualized the underlying demographics of tracts with cafés in Miami, NYC, and Dallas. Across all cities, tracts with third-wave coffee have higher rents and home values, and in NYC especially, these areas also show higher levels of educational attainment and income inequality.</p>
  <p>Dallas shows the narrowest spread—suggesting coffee shops there follow a more uniform urban pattern—while Miami spans a wider range of values, reflecting a fragmented metro landscape.</p>
  <img src="demographic_traits.png" alt="Density plots of census traits in tracts with coffee by city">

  <div class="methodology">
    <h2>About This Story</h2>
    <p><strong>Data Sources:</strong> Coffee shop locations scraped from public Google My Maps using Playwright. Parsed and geocoded from KML. Demographics joined from the American Community Survey (2018–2022, 5-year estimates) at the census tract level.</p>
    <p><strong>Analysis:</strong> Logistic regressions run per-state in Python with <code>statsmodels</code>. Predictors: log_income, log_rent, log_home_value, pct_bachelor_plus, and gini_index. Tracts with quasi-separation noted and model convergence confirmed. Final coefficients used to generate SVG chart visualizations with Matplotlib and Seaborn. KDE plots built using Seaborn’s <code>kdeplot</code> across filtered tracts with café presence = 1.</p>
  </div>

</body>
</html>
